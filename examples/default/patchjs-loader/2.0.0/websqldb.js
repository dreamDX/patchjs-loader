!function(){var e,t={init:function(){try{e=this.isSupported?window.openDatabase("patchjsdb","1.0","patchjs database",4194304):null}catch(t){e=null}},set:function(t,n,o){if(o=o||function(){},!e)return void o(!1);e.transaction(function(e){e.executeSql("create table if not exists assets (url text unique, code text, version text)"),e.executeSql("select version from assets where url = ?",[t],function(e,i){i.rows.length>0?e.executeSql("update assets set code = ?, version = ? where url = ?",[n.code,n.version,t],function(){o(!0)},function(){o(!1)}):e.executeSql("insert into assets (url, code, version) values (?, ?, ?)",[t,n.code,n.version],function(){o(!0)},function(){o(!1)})},function(){o(!1)})},function(){o(!1)})},get:function(t,n){if(!e)return void n(null);e.transaction(function(e){e.executeSql("select code, version from assets where url = ?",[t],function(e,t){n(t.rows.length>0?{code:t.rows.item(0).code,version:t.rows.item(0).version}:null)},function(e){n(null)})})},remove:function(t){e&&e.transaction(function(e){e.executeSql("delete from assets where url = ?",[t])})}};t.isSupported="openDatabase"in window,t.init(),window.patchjs=window.patchjs||{},window.patchjs.cache=t}();